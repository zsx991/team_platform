{"remainingRequest":"D:\\mymy\\teamplan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mymy\\teamplan\\src\\views\\systemModule\\systemModuleAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mymy\\teamplan\\src\\views\\systemModule\\systemModuleAdd.vue","mtime":1597054396909},{"path":"D:\\mymy\\teamplan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmxldCBzeXN0ZW1JZCA9IDEKbGV0IG1vZHVsZUlkID0gMQoKY29uc3QgY29sdW1uID1bCgogICAge3RpdGxlOiAi546v5aKDIiwgZGF0YUluZGV4OiAicHJlIiwga2V5OiAicHJlIiwgYWxpZ246ICJjZW50ZXIiLCB3aWR0aDogMTAwfSwKICAgIHt0aXRsZTogIuWcsOWdgCIsIGRhdGFJbmRleDogInNxbEhvc3QiLCBrZXk6ICJzcWwiLCBhbGlnbjogImNlbnRlciIsIHdpZHRoOiAxNTB9LAogICAge3RpdGxlOiAicG9ydCIsIGRhdGFJbmRleDogInNxbFBvcnQiLCBrZXk6ICJwb3J0IiwgYWxpZ246ICJjZW50ZXIiLCB3aWR0aDogMTUwfSwKICAgIHt0aXRsZTogIueUqOaIt+WQjSIsIGRhdGFJbmRleDogInNxbFVzZXIiLCBrZXk6ICJ1c2VyIiwgYWxpZ246ICJjZW50ZXIiLCB3aWR0aDogMzAwfSwKICAgIHt0aXRsZTogIuWvhueggSIsIGRhdGFJbmRleDogInNxbFB3ZCIsIGtleTogInB3ZCIsIGFsaWduOiAiY2VudGVyIiwgd2lkdGg6IDMwMH0sCl0KCmxldCBkYmRlZmF1bHQgPSAie1xuIiArCiAgICAiXCJzcWxIb3N0XCI6XCJcIixcbiIgKwogICAgIlwic3FsUG9ydFwiOlwiXCIsXG4iICsKICAgICJcInNxbFVzZXJcIjpcIlwiLFxuIiArCiAgICAiXCJzcWxQd2RcIjpcIlwiXG4iICsKICAgICJ9IgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogInN5c3RlbU1vZHVsZUFkZCIsCgogICAgZGF0YSgpIHsKICAgICAgICBsZXQgIGNoZWNrREJDb25maWcgPShydWxlcywgdmFsdWUsIGNhbGxiYWNrKT0+IHsKICAgICAgICAgICAgaWYgKEpTT04ucGFyc2UodGhpcy5kYkZvcm0uUmVsZWFzZSlbJ3NxbEhvc3QnXSA9PT0nJyAmJiBKU09OLnBhcnNlKHRoaXMuZGJGb3JtLlRlc3QpWydzcWxIb3N0J10gPT09ICcnKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygn5rWL6K+V5ZKM55Sf5Lqn6Iez5bCR5aGr5YaZ5LiA5LiqJykKICAgICAgICAgICAgfSBlbHNlIGNhbGxiYWNrKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgIGNoZWNrTW9kdWxlVXJsID0ocnVsZXMsIHZhbHVlLCBjYWxsYmFjayk9PiB7CgogICAgICAgICAgICBpZiAoIXRoaXMuZm9ybS5tb2R1bGVzVXJsKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygn6K+35aGr5YaZ6aG555uu5Zyw5Z2AJykKICAgICAgICAgICAgfSBlbHNlIGNhbGxiYWNrKCkKICAgICAgICB9OwoKICAgICAgICBsZXQgIGNoZWNrU3lzdGVtSG9zdCA9KHJ1bGVzLCB2YWx1ZSwgY2FsbGJhY2spPT4gewoKICAgICAgICAgICAgaWYgKCF0aGlzLmZvcm0uc3lzdGVtSG9zdFRlc3QgJiYgIXRoaXMuZm9ybS5zeXN0ZW1Ib3N0UmVsZWFzZSkgewogICAgICAgICAgICAgICAgY2FsbGJhY2soJ+ivt+a1i+ivleWSjOeUn+S6p+WcsOWdgOiHs+WwkeWhq+S4gOS4qicpCiAgICAgICAgICAgIH0gZWxzZSBjYWxsYmFjaygpCiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29sdW1uLAogICAgICAgICAgICBsYWJlbENvbDogeyBzcGFuOiA0IH0sCiAgICAgICAgICAgIHdyYXBwZXJDb2w6IHsgc3BhbjogMTQgfSwKICAgICAgICAgICAgZGJsYWJlbENvbDogeyBzcGFuOiA4IH0sCiAgICAgICAgICAgIGRid3JhcHBlckNvbDogeyBzcGFuOiAxNCB9LAogICAgICAgICAgICBwcm9qZWN0SWQ6MCwKICAgICAgICAgICAgZm9ybTogewogICAgICAgICAgICAgICAgc3lzdGVtOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICBtb2R1bGVzOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICBzcWxzOnVuZGVmaW5lZCwKICAgICAgICAgICAgICAgIHN5c3RlbUhvc3RUZXN0OiAnJywKICAgICAgICAgICAgICAgIHN5c3RlbUhvc3RSZWxlYXNlOicnLAogICAgICAgICAgICAgICAgY29tRGF0YVRlc3Q6ICcnLAogICAgICAgICAgICAgICAgY29tRGF0YVJlbGVhc2U6JycsCiAgICAgICAgICAgICAgICBtb2R1bGVzVXJsOicnLAoKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvcm1SdWxlczp7CiAgICAgICAgICAgICAgICBzeXN0ZW06W3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nns7vnu58nLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICAgICAgICAgIHN5c3RlbWhvc3Q6W3sgdmFsaWRhdG9yOmNoZWNrU3lzdGVtSG9zdCwgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgICAgICAgICBtb2R1bGVzOlt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5qih5Z2XJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgICAgICAgICBtb2R1bGVzdXJsOlt7IHZhbGlkYXRvcjpjaGVja01vZHVsZVVybCwgdHJpZ2dlcjogJ2NoYW5nZScgIH1dLAogICAgICAgICAgICAgICAgc3FsczpbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeebuOWFs+aVsOaNruW6kycsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLAoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3lzdGVtX2xpc3Q6W10sCiAgICAgICAgICAgIG1vZHVsZV9saXN0OltdLAogICAgICAgICAgICBwcm9ncmFtSWRUOjAsCiAgICAgICAgICAgIHByb2dyYW1JZFI6MCwKICAgICAgICAgICAgbW9kdWxlc0lkOjAsCiAgICAgICAgICAgIG5ld19tb2R1bGVfbGlzdDpbXSwKICAgICAgICAgICAgc3FsX2xpc3Q6W10sCiAgICAgICAgICAgIGRhdGFfbGlzdDpbXSwKICAgICAgICAgICAgc3lzdGVtX2luZm86W10sCiAgICAgICAgICAgIHNxbFNlbGVjdGVkOmZhbHNlLAoKICAgICAgICAgICAgYWRkU3FsOmZhbHNlLAogICAgICAgICAgICBkYmRlZmF1bHQsCiAgICAgICAgICAgIGRiRm9ybTogewogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICBUZXN0OmRiZGVmYXVsdCwKICAgICAgICAgICAgICAgIFJlbGVhc2U6ZGJkZWZhdWx0LAogICAgICAgICAgICB9LAogICAgICAgICAgICBkYnJ1bGVzOiB7CiAgICAgICAgICAgICAgICBuYW1lOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSxtZXNzYWdlOiAn6K+36L6T5YWl5pWw5o2u5bqT6YWN572uJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgY2hlY2tCb3RoOiBbeyB2YWxpZGF0b3I6Y2hlY2tEQkNvbmZpZyB9LF0sCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBsb2FkaW5nOmZhbHNlLAoKICAgICAgICAgICAgaXNUZXN0RGlzYWJsZWQ6ZmFsc2UsCiAgICAgICAgICAgIGlzUmVsZWFzZURpc2FibGVkOmZhbHNlLAogICAgICAgICAgICBpc1NlbGVjdDpmYWxzZQoKICAgICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CgogICAgICAgIHRoaXMuZ2V0U3FsTmFtZSgpCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5WydpZCddICE9PSB1bmRlZmluZWQpewoKICAgICAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSB0aGlzLiRyb3V0ZS5xdWVyeVsnaWQnXVsnaWQnXQogICAgICAgICAgICB0aGlzLmVkaXRQcm9qZWN0KCkKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZ2V0UHJvamVjdE1vZHVsZU5hbWUoKQoKICAgICAgICB9CgoKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIC8vIOiOt+WPlumhueebruOAgeaooeWdl+WQjeensAogICAgICAgIGdldFByb2plY3RNb2R1bGVOYW1lKCkgewoKICAgICAgICAgICAgc3lzdGVtSWQgPSAxCiAgICAgICAgICAgIHRoaXMuc3lzdGVtX2xpc3QgPSBbXQogICAgICAgICAgICB0aGlzLm1vZHVsZV9saXN0ID0gW10KICAgICAgICAgICAgdGhpcy5HZXQoIi9wcm9qZWN0L2dldFByb2plY3RUcmVlIiwge30pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHJlc1snY29kZSddID09PSAxMDAwID8gcmVzWydkYXRhJ10ubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1fbGlzdC5wdXNoKHtpZDogc3lzdGVtSWQsIHN5c3RlbU5hbWU6IGl0ZW1bJ3N5c3RlbU5hbWUnXX0pCiAgICAgICAgICAgICAgICAgICAgbW9kdWxlSWQgPSAxCiAgICAgICAgICAgICAgICAgICAgaXRlbVsnbW9kdWxlcyddLm1hcCgobW9kdWxlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kdWxlX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbW9kdWxlSWQsIHN5c3RlbUlkOiBzeXN0ZW1JZCwgbW9kdWxlTmFtZTogbW9kdWxlWydtb2R1bGVzTmFtZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtTmFtZTogaXRlbVsnc3lzdGVtTmFtZSddCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZUlkKysKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIHN5c3RlbUlkKysKICAgICAgICAgICAgICAgIH0pIDogdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNbJ21lc3NhZ2UnXSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICBnZXRTcWxOYW1lKCkgewogICAgICAgICAgICB0aGlzLkdldCgnL3Byb2plY3QvY2hlY2tTcWxEYXRhJywge30pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHJlc1snY29kZSddID09PSAxMDAwID8gcmVzWydkYXRhJ10ubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcWxfbGlzdC5wdXNoKHtzcWxJZDogaXRlbVsnc3FsSWQnXSwgc3FsTmFtZTogaXRlbVsnc3FsTmFtZSddfSkKICAgICAgICAgICAgICAgIH0pIDogdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNbJ21lc3NhZ2UnXSkKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc3FsX2xpc3QpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgLy8g6YCa6L+H6aG555uu5ZCN56ew6I635Y+W5qih5Z2X5L+h5oGvCiAgICAgICAgY2hhbmdlU3lzdGVtKHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMubmV3X21vZHVsZV9saXN0ID0gW10KICAgICAgICAgICAgbW9kdWxlSWQgPSAxCiAgICAgICAgICAgIHRoaXMubW9kdWxlX2xpc3QubWFwKChsaXN0KSA9PiB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gbGlzdFsnc3lzdGVtTmFtZSddID8gdGhpcy5uZXdfbW9kdWxlX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IG1vZHVsZUlkLCBtb2R1bGVOYW1lOiBsaXN0Wydtb2R1bGVOYW1lJ10KICAgICAgICAgICAgICAgIH0pIDogIiIKICAgICAgICAgICAgICAgIG1vZHVsZUlkKysKICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIHRoaXMuZm9ybS5zeXN0ZW1Ib3N0VGVzdCA9ICcnCiAgICAgICAgICAgIHRoaXMuZm9ybS5zeXN0ZW1Ib3N0UmVsZWFzZSA9ICcnCiAgICAgICAgICAgIHRoaXMuZm9ybS5tb2R1bGVzID0gdW5kZWZpbmVkCiAgICAgICAgICAgIHRoaXMuZm9ybS5jb21EYXRhVGVzdCA9ICcnCiAgICAgICAgICAgIHRoaXMuZm9ybS5jb21EYXRhUmVsZWFzZSA9ICcnCgogICAgICAgIH0sCgogICAgICAgIC8vIOmAmui/h+mhueebruWQjeensOiOt+WPlumhueebruS/oeaBrwogICAgICAgIGdldFN5c3RlbUluZm8odmFsdWUpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codmFsdWUpCiAgICAgICAgICAgIHRoaXMuUG9zdCgnL3Byb2plY3QvZ2V0UHJvZ3JhbURldGFpbCcsIHsKICAgICAgICAgICAgICAgICdwcm9ncmFtTmFtZSc6IHZhbHVlCiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNbJ2NvZGUnXSA9PT0gMTAwMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgICAgICByZXNbJ2RhdGEnXS5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmFtSWQgPSBpdGVtWydwcm9ncmFtSWQnXQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVsnZW52J10gPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5zeXN0ZW1Ib3N0VGVzdCA9IGl0ZW1bJ3Byb2dyYW1Ib3N0J10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5jb21EYXRhVGVzdCA9IGl0ZW1bJ2NvbURhdGEnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmFtSWRUID0gaXRlbVsncHJvZ3JhbUlkJ10KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVsnZW52J10gPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5zeXN0ZW1Ib3N0UmVsZWFzZSA9IGl0ZW1bJ3Byb2dyYW1Ib3N0J10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5jb21EYXRhUmVsZWFzZSA9IGl0ZW1bJ2NvbURhdGEnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmFtSWRSID0gaXRlbVsncHJvZ3JhbUlkJ10KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNbJ21lc3NhZ2UnXSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICAvLyDpgJrov4fovpPlhaXmqKHlnZflkI3np7AKICAgICAgICBjaGFuZ2VNb2R1bGUodmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLm1vZHVsZXMgPSB2YWx1ZQogICAgICAgICAgICB0aGlzLmZvcm0ubW9kdWxlc1VybCA9ICcnCiAgICAgICAgICAgIHRoaXMubW9kdWxlc0lkID0gMAoKICAgICAgICB9LAoKICAgICAgICBnZXRNb2R1bGVJbmZvKHZhbHVlKSB7CgogICAgICAgICAgICB0aGlzLlBvc3QoJy9wcm9qZWN0L2dldE1vZHVsZXNEZXRhaWwnLCB7CiAgICAgICAgICAgICAgICAnbW9kdWxlc05hbWUnOiB2YWx1ZQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgICBpZiAocmVzWydjb2RlJ10gPT09IDEwMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ubW9kdWxlc1VybCA9IHJlc1snZGF0YSddWydtb2R1bGVzVXJsJ10KICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZHVsZXNJZCA9IHJlc1snZGF0YSddWydtSWQnXQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybS5tb2R1bGVzVXJsKQogICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzWydtZXNzYWdlJ10pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICB9LAogICAgICAgIGNoYW5nZVNxbCgpIHsKICAgICAgICAgICAgdGhpcy5kYXRhX2xpc3QgPSBbXQogICAgICAgICAgICB0aGlzLnNxbHMgPT09IHVuZGVmaW5lZCA/IHRoaXMuc3FsU2VsZWN0ZWQgPSBmYWxzZSA6ICcnCiAgICAgICAgfSwKICAgICAgICBnZXRTcWxJbmZvKHZhbHVlKSB7CiAgICAgICAgICAgIGxldCBwcmUgPSAiIgogICAgICAgICAgICB0aGlzLnNxbFNlbGVjdGVkID0gdHJ1ZQogICAgICAgICAgICB0aGlzLkdldCgnL3Byb2plY3QvZ2V0U3FsZGF0YURldGFpbHMnLCB7CiAgICAgICAgICAgICAgICBzcWxOYW1lOiB2YWx1ZQoKICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc1snY29kZSddID09PSAxMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzWydkYXRhJ10ubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bJ2VudiddID09PSAxID8gcHJlID0gIua1i+ivlSIgOiBwcmUgPSAi55Sf5LqnIgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFfbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbEhvc3Q6IGl0ZW1bJ3NxbEhvc3QnXSwgc3FsUG9ydDogaXRlbVsnc3FsUG9ydCddLCBzcWxVc2VyOiBpdGVtWydzcWxVc2VyJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxQd2Q6IGl0ZW1bJ3NxbFB3ZCddLCBwcmU6IHByZSwgZW52OiBpdGVtWydlbnYnXSwgc3FsSWQ6IGl0ZW1bJ2lkJ10KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzWydtZXNzYWdlJ10pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgYWRkUHJvamVjdCgpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLm1vZHVsZXNVcmwpCiAgICAgICAgICAgIHRoaXMuJHJlZnMucmZGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtX2luZm8gPSBbXQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzeXNob3N0ID0gJycKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbURhdGEgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3JhbWlkID0gMAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzaG9zdCA9IHRoaXMuZm9ybS5zeXN0ZW1Ib3N0VGVzdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tRGF0YSA9IHRoaXMuZm9ybS5jb21EYXRhVGVzdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbWlkID0gdGhpcy5wcm9ncmFtSWRUCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeXNob3N0ID0gdGhpcy5mb3JtLnN5c3RlbUhvc3RSZWxlYXNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21EYXRhID0gdGhpcy5mb3JtLmNvbURhdGFSZWxlYXNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtaWQgPSB0aGlzLnByb2dyYW1JZFIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3lzaG9zdCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtX2luZm8ucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInByb2dyYW1Ib3N0Ijogc3lzaG9zdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29tRGF0YSc6IGNvbURhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Vudic6IGksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2dyYW1JZCc6IHByb2dyYW1pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZ3JhbU5hbWUnOiB0aGlzLmZvcm0uc3lzdGVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubW9kdWxlc0lkKQogICAgICAgICAgICAgICAgICAgIHRoaXMuUG9zdCgnL3Byb2plY3QvYWRkUHJvamVjdCcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgInByb2dyYW1JbmZvIjogdGhpcy5zeXN0ZW1faW5mbywKICAgICAgICAgICAgICAgICAgICAgICAgIm1vZHVsZXNJbmZvIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZHVsZXNJZCI6IHRoaXMubW9kdWxlc0lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZHVsZXNVcmwiOiB0aGlzLmZvcm0ubW9kdWxlc1VybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtb2R1bGVzTmFtZSI6IHRoaXMuZm9ybS5tb2R1bGVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInN0YXR1cyI6IDAKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInNxbEluZm8iOiB0aGlzLmRhdGFfbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgInByb2plY3RJZCI6dGhpcy5wcm9qZWN0SWQKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc1snY29kZSddID09PSAxMDAwID8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlc1snbWVzc2FnZSddLCAxLCB0aGlzLiRyb3V0ZXIucHVzaCh7Im5hbWUiOiAic3lzdGVtTW9kdWxlTGlzdCJ9KSkgOiB0aGlzLiRtZXNzYWdlLmVycm9yW3Jlc1snbWVzc2FnZSddXQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCgogICAgICAgIH0sCgogICAgICAgIGJhY2tQcm9qZWN0TGlzdCgpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7Im5hbWUiOiJzeXN0ZW1Nb2R1bGVMaXN0In0pCiAgICAgICAgfSwKCiAgICAgICAgYWRkREIoKSB7CiAgICAgICAgICAgIHRoaXMuYWRkU3FsID0gdHJ1ZQogICAgICAgIH0sCgogICAgICAgIGRiaGFuZGxlT2soKSB7CgogICAgICAgICAgICAvLyBsZXQgaXNWYWlsZCA9IHRoaXMuY2hlY2tEQkNvbmZpZygpCiAgICAgICAgICAgIGNvbnN0IHNxbEluZm8gPSBbXTsKICAgICAgICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZSh2YWlsZD0+ewogICAgICAgICAgICAgICAgaWYgKHZhaWxkKXsKICAgICAgICAgICAgICAgIGNvbnN0IGRiUmVsZWFzZSA9IEpTT04ucGFyc2UodGhpcy5kYkZvcm0uUmVsZWFzZSk7CiAgICAgICAgICAgICAgICBjb25zdCBkYlRlc3QgPSBKU09OLnBhcnNlKHRoaXMuZGJGb3JtLlRlc3QpOwogICAgICAgICAgICAgICAgaWYgKGRiUmVsZWFzZVsnc3FsSG9zdCddICE9PScnKXsKICAgICAgICAgICAgICAgICAgICBkYlJlbGVhc2VbJ3NxbE5hbWUnXSA9IHRoaXMuZGJGb3JtLm5hbWUKICAgICAgICAgICAgICAgICAgICBkYlJlbGVhc2VbJ2VudiddID0yCiAgICAgICAgICAgICAgICAgICAgc3FsSW5mby5wdXNoKGRiUmVsZWFzZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChkYlRlc3RbJ3NxbEhvc3QnXSAhPT0nJyl7CiAgICAgICAgICAgICAgICAgICAgZGJUZXN0WydzcWxOYW1lJ10gPSB0aGlzLmRiRm9ybS5uYW1lCiAgICAgICAgICAgICAgICAgICAgZGJUZXN0WydlbnYnXSA9MQogICAgICAgICAgICAgICAgICAgIHNxbEluZm8ucHVzaChkYlRlc3QpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzcWxJbmZvKQogICAgICAgICAgICAgICAgdGhpcy5Qb3N0KCcvcHJvamVjdC9hZGREQicsewogICAgICAgICAgICAgICAgICAgICJzcWxMaXN0IjpzcWxJbmZvCiAgICAgICAgICAgICAgICB9KS50aGVuKChyZXMpPT57CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1snY29kZSddPT09MTAwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNbJ21lc3NhZ2UnXSx0aGlzLmdldFNxbE5hbWUoKSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTcWwgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0REIoKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZSB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc1snbWVzc2FnZSddKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICB9KQoKICAgICAgICB9LAoKICAgICAgICBoYW5kbGVDYW5jZWwoKSB7CiAgICAgICAgICAgIHRoaXMuYWRkU3FsID0gZmFsc2UKCiAgICAgICAgfSwKCiAgICAgICAgcmVzZXREQigpewogICAgICAgICAgICB0aGlzLmRiRm9ybS5uYW1lPScnCiAgICAgICAgICAgIHRoaXMuZGJGb3JtLlRlc3QgPSB0aGlzLmRiZGVmYXVsdAogICAgICAgICAgICB0aGlzLmRiRm9ybS5SZWxlYXNlID0gdGhpcy5kYmRlZmF1bHQKICAgICAgICB9LAoKICAgICAgICBhc3luYyBlZGl0UHJvamVjdCgpewogICAgICAgICAgICB0aGlzLmlzU2VsZWN0ID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmZvcm0uc3lzdGVtID0gdGhpcy4kcm91dGUucXVlcnlbJ2lkJ11bJ3N5c3RlbU5hbWUnXQogICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnlbJ2lkJ11bJ3ByZSddID09PSfnlJ/kuqcnKXsKICAgICAgICAgICAgICAgIHRoaXMuaXNUZXN0RGlzYWJsZWQgPSB0cnVlCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNSZWxlYXNlRGlzYWJsZWQgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRTeXN0ZW1JbmZvKHRoaXMuZm9ybS5zeXN0ZW0pCiAgICAgICAgICAgIHRoaXMuZm9ybS5tb2R1bGVzID0gdGhpcy4kcm91dGUucXVlcnlbJ2lkJ11bJ21vZHVsZU5hbWUnXQogICAgICAgICAgICB0aGlzLmZvcm0ubW9kdWxlc1VybCA9IHRoaXMuJHJvdXRlLnF1ZXJ5WydpZCddWydhZGRyZXNzJ10KICAgICAgICAgICAgdGhpcy5tb2R1bGVzSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeVsnaWQnXVsnbW9kdWxlSWQnXQogICAgICAgICAgICB0aGlzLmZvcm0uc3FscyA9IEpTT04ucGFyc2UodGhpcy4kcm91dGUucXVlcnlbJ2lkJ11bJ2RiQWRkcmVzcyddKVsnc3FsTmFtZSddCiAgICAgICAgICAgIHRoaXMuZ2V0U3FsSW5mbyh0aGlzLmZvcm0uc3FscykKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["systemModuleAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"systemModuleAdd.vue","sourceRoot":"src/views/systemModule","sourcesContent":["<template>\r\n    <div id=\"system-module-add\">\r\n        <a-breadcrumb id=\"bread\">\r\n        <a-breadcrumb-item >\r\n                <my-icon class='icon' type=\"icon-system\" :to=\"{name:'systemModuleList'}\"/>\r\n                <router-link :to=\"{name:'systemModuleList'}\">系统模块列表</router-link>\r\n\r\n        </a-breadcrumb-item>\r\n        <a-breadcrumb-item v-if=\"projectId===0\">\r\n          新增系统模块\r\n        </a-breadcrumb-item>\r\n            <a-breadcrumb-item v-else>\r\n          编辑系统模块\r\n        </a-breadcrumb-item>\r\n        </a-breadcrumb>\r\n        <a-form-model :model=\"form\"\r\n                      :label-col=\"labelCol\"\r\n                      :wrapper-col=\"wrapperCol\"\r\n                      style=\"margin-top: 20px;padding-top: 20px\"\r\n                      :rules = \"formRules\"\r\n                      ref=\"rfForm\"\r\n\r\n                >\r\n            <a-form-model-item label=\"选择系统\" prop=\"system\"  class ='form-item'>\r\n                <a-select v-model=\"form.system\" :disabled=\"isSelect\" placeholder=\"请选择系统\" @select=\"getSystemInfo\" @change=\"changeSystem\" allowClear\r\n                          mode=\"combobox\"\r\n                          >\r\n                    <a-select-option v-for=\"system in system_list\" :key=\"system.systemName\">\r\n                                {{system.systemName}}\r\n                    </a-select-option>\r\n                </a-select>\r\n            </a-form-model-item>\r\n            <a-form-model-item label=\"系统地址：\" prop=\"systemhost\"  class ='form-item'>\r\n                <div style=\"padding-top: 25px\">\r\n                    <label>测试</label>\r\n                    <a-input v-model=\"form.systemHostTest\" placeholder=\"填写如www.baidu.com\" :disabled=\"isTestDisabled\"/>\r\n                    <label>生产</label>\r\n                    <a-input v-model=\"form.systemHostRelease\" placeholder=\"填写如www.baidu.com\" :disabled=\"isReleaseDisabled\"/>\r\n                </div>\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item label=\"选择模块\" prop=\"modules\"  class ='form-item'>\r\n                <a-select v-model=\"form.modules\" :disabled=\"isSelect\" placeholder=\"请选择模块\" @select=\"getModuleInfo\" @change=\"changeModule\" allowClear mode=\"combobox\">\r\n                    <a-select-option v-for=\"newModule in new_module_list\" :key=\"newModule.moduleName\">\r\n                                {{newModule.moduleName}}\r\n                    </a-select-option>\r\n                </a-select>\r\n            </a-form-model-item>\r\n            <a-form-model-item label=\"模块地址：\"  prop=\"modulesurl\" class ='form-item'>\r\n                 <a-input v-model=\"form.modulesUrl\" placeholder=\"填写如/login\"/>\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item label=\"通用数据\">\r\n                <div style=\"padding-top: 25px\">\r\n                    <label>测试</label>\r\n                    <a-input v-model=\"form.comDataTest\" type=\"textarea\" placeholder=\"填写如{key:vaule,key:vaule}\" :disabled=\"isTestDisabled\"/>\r\n                    <label>生产</label>\r\n                    <a-input v-model=\"form.comDataRelease\" type=\"textarea\" placeholder=\"填写如{key:vaule,key:vaule}\" :disabled=\"isReleaseDisabled\"/>\r\n                </div>\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item label=\"选择数据库\" prop=\"sqls\"  class ='form-item'>\r\n                <a-select style=\"width: 150px\" v-model=\"form.sqls\" placeholder=\"请选择数据库\" @change=\"changeSql\" @select=\"getSqlInfo\" allowClear>\r\n                    <a-select-option v-for=\"sql in sql_list\" :key=\"sql.sqlName\">\r\n                                {{sql.sqlName}}\r\n                    </a-select-option>\r\n                </a-select>\r\n                <a-button type=\"primary\" @click=\"addDB\" style=\"margin-left: 30px;margin-right: 30px\">\r\n                +数据库\r\n              </a-button>\r\n                <div v-if=\"sqlSelected\">\r\n                    <a-table  :dataSource=\"data_list\" bordered :columns=\"column\" :pagination=\"false\"\r\n                         style=\"margin-left: 30px;margin-right: 30px\">\r\n                </a-table>\r\n                </div>\r\n\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item :wrapper-col=\"{ span: 14, offset: 4 }\">\r\n              <a-button type=\"primary\" @click=\"addProject\">\r\n                新增\r\n              </a-button>\r\n              <a-button style=\"margin-left: 10px;\" @click=\"backProjectList\">\r\n                返回\r\n              </a-button>\r\n            </a-form-model-item>\r\n        </a-form-model>\r\n        <div >\r\n                    <a-modal class=\"add-modal\" v-model=\"addSql\" title=\"新增数据库\" on-ok=\"dbhandleOk\">\r\n\r\n                        <template slot=\"footer\">\r\n                            <a-button key=\"back\" @click=\"handleCancel\">\r\n                                返回\r\n                            </a-button>\r\n                            <a-button key=\"submit\" type=\"primary\" :loading=\"loading\" @click=\"dbhandleOk\">\r\n                                提交\r\n                            </a-button>\r\n                        </template>\r\n                        <a-form-model\r\n                                ref=\"ruleForm\"\r\n                                :model=\"dbForm\"\r\n                                :rules=\"dbrules\"\r\n                                :label-col=\"dblabelCol\"\r\n                                :wrapper-col=\"dbwrapperCol\"\r\n                        >\r\n                            <a-form-model-item ref=\"name\" label=\"数据库名称\" prop=\"name\" class ='form-item'>\r\n                                <a-input\r\n                                        v-model=\"dbForm.name\"\r\n                                        placeholder=\"输入数据库名称\"\r\n                                        @blur=\"() => {\r\n                                            $refs.name.onFieldBlur();\r\n                                                 }\"\r\n                                />\r\n                            </a-form-model-item>\r\n                            <a-form-model-item label=\"\" class ='form-item-tip' style=\"top: 20px\" prop=\"checkBoth\">\r\n                                    <label style=\"font-size: 13px; color: rgba(95,95,95,0.66); left: 88px\">配置规则：测试与生产两者至少填一个</label>\r\n                            </a-form-model-item>\r\n\r\n                            <a-form-model-item  label=\"测试环境\"   class ='form-item'>\r\n                                    <a-input v-model=\"dbForm.Test\" :rows=\"6\" type=\"textarea\" placeholder=\"输入测试环境配置\"\r\n                                             />\r\n\r\n                            </a-form-model-item>\r\n                            <a-form-model-item ref=\"name\" label=\"生产环境\"  class ='form-item' >\r\n                                    <a-input v-model=\"dbForm.Release\" :rows=\"6\" type=\"textarea\" placeholder=\"输入生产环境配置\"/>\r\n\r\n                            </a-form-model-item>\r\n\r\n                        </a-form-model>\r\n                    </a-modal>\r\n                </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    let systemId = 1\r\n    let moduleId = 1\r\n\r\n    const column =[\r\n\r\n        {title: \"环境\", dataIndex: \"pre\", key: \"pre\", align: \"center\", width: 100},\r\n        {title: \"地址\", dataIndex: \"sqlHost\", key: \"sql\", align: \"center\", width: 150},\r\n        {title: \"port\", dataIndex: \"sqlPort\", key: \"port\", align: \"center\", width: 150},\r\n        {title: \"用户名\", dataIndex: \"sqlUser\", key: \"user\", align: \"center\", width: 300},\r\n        {title: \"密码\", dataIndex: \"sqlPwd\", key: \"pwd\", align: \"center\", width: 300},\r\n    ]\r\n\r\n    let dbdefault = \"{\\n\" +\r\n        \"\\\"sqlHost\\\":\\\"\\\",\\n\" +\r\n        \"\\\"sqlPort\\\":\\\"\\\",\\n\" +\r\n        \"\\\"sqlUser\\\":\\\"\\\",\\n\" +\r\n        \"\\\"sqlPwd\\\":\\\"\\\"\\n\" +\r\n        \"}\"\r\n\r\n    export default {\r\n        name: \"systemModuleAdd\",\r\n\r\n        data() {\r\n            let  checkDBConfig =(rules, value, callback)=> {\r\n                if (JSON.parse(this.dbForm.Release)['sqlHost'] ==='' && JSON.parse(this.dbForm.Test)['sqlHost'] === '') {\r\n                    callback('测试和生产至少填写一个')\r\n                } else callback()\r\n            };\r\n\r\n            let  checkModuleUrl =(rules, value, callback)=> {\r\n\r\n                if (!this.form.modulesUrl) {\r\n                    callback('请填写项目地址')\r\n                } else callback()\r\n            };\r\n\r\n            let  checkSystemHost =(rules, value, callback)=> {\r\n\r\n                if (!this.form.systemHostTest && !this.form.systemHostRelease) {\r\n                    callback('请测试和生产地址至少填一个')\r\n                } else callback()\r\n            };\r\n\r\n            return {\r\n                column,\r\n                labelCol: { span: 4 },\r\n                wrapperCol: { span: 14 },\r\n                dblabelCol: { span: 8 },\r\n                dbwrapperCol: { span: 14 },\r\n                projectId:0,\r\n                form: {\r\n                    system: undefined,\r\n                    modules: undefined,\r\n                    sqls:undefined,\r\n                    systemHostTest: '',\r\n                    systemHostRelease:'',\r\n                    comDataTest: '',\r\n                    comDataRelease:'',\r\n                    modulesUrl:'',\r\n\r\n\r\n                },\r\n                formRules:{\r\n                    system:[{ required: true, message: '请选择系统', trigger: 'change' }],\r\n                    systemhost:[{ validator:checkSystemHost, trigger: 'change' }],\r\n                    modules:[{ required: true, message: '请选择模块', trigger: 'change' }],\r\n                    modulesurl:[{ validator:checkModuleUrl, trigger: 'change'  }],\r\n                    sqls:[{ required: true, message: '请选择相关数据库', trigger: 'change' }],\r\n\r\n                },\r\n                system_list:[],\r\n                module_list:[],\r\n                programIdT:0,\r\n                programIdR:0,\r\n                modulesId:0,\r\n                new_module_list:[],\r\n                sql_list:[],\r\n                data_list:[],\r\n                system_info:[],\r\n                sqlSelected:false,\r\n\r\n                addSql:false,\r\n                dbdefault,\r\n                dbForm: {\r\n                    name: '',\r\n                    Test:dbdefault,\r\n                    Release:dbdefault,\r\n                },\r\n                dbrules: {\r\n                    name: [\r\n                        { required: true,message: '请输入数据库配置', trigger: 'blur' },\r\n                    ],\r\n                    checkBoth: [{ validator:checkDBConfig },],\r\n                },\r\n\r\n                loading:false,\r\n\r\n                isTestDisabled:false,\r\n                isReleaseDisabled:false,\r\n                isSelect:false\r\n\r\n            };\r\n        },\r\n        created() {\r\n\r\n            this.getSqlName()\r\n            if (this.$route.query['id'] !== undefined){\r\n\r\n                this.projectId = this.$route.query['id']['id']\r\n                this.editProject()\r\n            }else {\r\n                this.getProjectModuleName()\r\n\r\n            }\r\n\r\n\r\n        },\r\n\r\n        methods: {\r\n            // 获取项目、模块名称\r\n            getProjectModuleName() {\r\n\r\n                systemId = 1\r\n                this.system_list = []\r\n                this.module_list = []\r\n                this.Get(\"/project/getProjectTree\", {}).then(res => {\r\n                    res['code'] === 1000 ? res['data'].map((item) => {\r\n                        this.system_list.push({id: systemId, systemName: item['systemName']})\r\n                        moduleId = 1\r\n                        item['modules'].map((module) => {\r\n                            this.module_list.push({\r\n                                id: moduleId, systemId: systemId, moduleName: module['modulesName'],\r\n                                systemName: item['systemName']\r\n                            })\r\n                            moduleId++\r\n                        })\r\n                        systemId++\r\n                    }) : this.$message.error(res['message'])\r\n                })\r\n            },\r\n\r\n            getSqlName() {\r\n                this.Get('/project/checkSqlData', {}).then(res => {\r\n                    res['code'] === 1000 ? res['data'].map((item) => {\r\n                        this.sql_list.push({sqlId: item['sqlId'], sqlName: item['sqlName']})\r\n                    }) : this.$message.error(res['message'])\r\n                    // console.log(this.sql_list)\r\n                })\r\n            },\r\n\r\n            // 通过项目名称获取模块信息\r\n            changeSystem(value) {\r\n                this.new_module_list = []\r\n                moduleId = 1\r\n                this.module_list.map((list) => {\r\n                    value === list['systemName'] ? this.new_module_list.push({\r\n                        id: moduleId, moduleName: list['moduleName']\r\n                    }) : \"\"\r\n                    moduleId++\r\n                })\r\n\r\n                this.form.systemHostTest = ''\r\n                this.form.systemHostRelease = ''\r\n                this.form.modules = undefined\r\n                this.form.comDataTest = ''\r\n                this.form.comDataRelease = ''\r\n\r\n            },\r\n\r\n            // 通过项目名称获取项目信息\r\n            getSystemInfo(value) {\r\n                // console.log(value)\r\n                this.Post('/project/getProgramDetail', {\r\n                    'programName': value\r\n                }).then(res => {\r\n                    if (res['code'] === 1000) {\r\n                        console.log(res)\r\n                        res['data'].map((item) => {\r\n                            this.programId = item['programId']\r\n                            if (item['env'] === 1) {\r\n                                this.form.systemHostTest = item['programHost']\r\n                                this.form.comDataTest = item['comData']\r\n                                this.programIdT = item['programId']\r\n                            }\r\n                            if (item['env'] === 2) {\r\n                                this.form.systemHostRelease = item['programHost']\r\n                                this.form.comDataRelease = item['comData']\r\n                                this.programIdR = item['programId']\r\n                            }\r\n                        })\r\n                    } else this.$message.error(res['message'])\r\n                })\r\n            },\r\n\r\n            // 通过输入模块名称\r\n            changeModule(value) {\r\n                this.form.modules = value\r\n                this.form.modulesUrl = ''\r\n                this.modulesId = 0\r\n\r\n            },\r\n\r\n            getModuleInfo(value) {\r\n\r\n                this.Post('/project/getModulesDetail', {\r\n                    'modulesName': value\r\n                }).then(res => {\r\n                    // console.log(res)\r\n                    if (res['code'] === 1000) {\r\n                        this.form.modulesUrl = res['data']['modulesUrl']\r\n                        this.modulesId = res['data']['mId']\r\n                        // console.log(this.form.modulesUrl)\r\n                    } else this.$message.error(res['message'])\r\n                    }\r\n                )\r\n            },\r\n            changeSql() {\r\n                this.data_list = []\r\n                this.sqls === undefined ? this.sqlSelected = false : ''\r\n            },\r\n            getSqlInfo(value) {\r\n                let pre = \"\"\r\n                this.sqlSelected = true\r\n                this.Get('/project/getSqldataDetails', {\r\n                    sqlName: value\r\n\r\n                }).then(res => {\r\n                    if (res['code'] === 1000) {\r\n                        res['data'].map((item) => {\r\n                            item['env'] === 1 ? pre = \"测试\" : pre = \"生产\"\r\n                            this.data_list.push({\r\n                                sqlHost: item['sqlHost'], sqlPort: item['sqlPort'], sqlUser: item['sqlUser'],\r\n                                sqlPwd: item['sqlPwd'], pre: pre, env: item['env'], sqlId: item['id']\r\n                            })\r\n                        })\r\n                    } else this.$message.error(res['message'])\r\n                })\r\n            },\r\n\r\n            addProject() {\r\n                // console.log(this.form.modulesUrl)\r\n                this.$refs.rfForm.validate(valid => {\r\n                    if (valid) {\r\n                        this.system_info = []\r\n                        for (var i = 1; i < 3; i++) {\r\n                            let syshost = ''\r\n                            let comData = ''\r\n                            let programid = 0\r\n                            if (i === 1) {\r\n                                syshost = this.form.systemHostTest\r\n                                comData = this.form.comDataTest\r\n                                programid = this.programIdT\r\n                            } else {\r\n                                syshost = this.form.systemHostRelease\r\n                                comData = this.form.comDataRelease\r\n                                programid = this.programIdR\r\n                            }\r\n                            if (syshost !== '') {\r\n                                this.system_info.push({\r\n                                    \"programHost\": syshost,\r\n                                    'comData': comData,\r\n                                    'env': i,\r\n                                    'programId': programid,\r\n                                    'programName': this.form.system,\r\n                                    'status': 0\r\n                                })\r\n                            }\r\n                        }\r\n                        // console.log(this.modulesId)\r\n                        this.Post('/project/addProject', {\r\n                            \"programInfo\": this.system_info,\r\n                            \"modulesInfo\": {\r\n                                \"modulesId\": this.modulesId,\r\n                                \"modulesUrl\": this.form.modulesUrl,\r\n                                \"modulesName\": this.form.modules,\r\n                                \"status\": 0\r\n                            },\r\n                            \"sqlInfo\": this.data_list,\r\n                            \"projectId\":this.projectId\r\n                        }).then(res => {\r\n                            res['code'] === 1000 ? this.$message.success(res['message'], 1, this.$router.push({\"name\": \"systemModuleList\"})) : this.$message.error[res['message']]\r\n                        })\r\n                    }\r\n                })\r\n\r\n            },\r\n\r\n            backProjectList(){\r\n                this.$router.push({\"name\":\"systemModuleList\"})\r\n            },\r\n\r\n            addDB() {\r\n                this.addSql = true\r\n            },\r\n\r\n            dbhandleOk() {\r\n\r\n                // let isVaild = this.checkDBConfig()\r\n                const sqlInfo = [];\r\n                this.$refs.ruleForm.validate(vaild=>{\r\n                    if (vaild){\r\n                    const dbRelease = JSON.parse(this.dbForm.Release);\r\n                    const dbTest = JSON.parse(this.dbForm.Test);\r\n                    if (dbRelease['sqlHost'] !==''){\r\n                        dbRelease['sqlName'] = this.dbForm.name\r\n                        dbRelease['env'] =2\r\n                        sqlInfo.push(dbRelease)\r\n                    }\r\n                    if (dbTest['sqlHost'] !==''){\r\n                        dbTest['sqlName'] = this.dbForm.name\r\n                        dbTest['env'] =1\r\n                        sqlInfo.push(dbTest)\r\n                    }\r\n                    // console.log(sqlInfo)\r\n                    this.Post('/project/addDB',{\r\n                        \"sqlList\":sqlInfo\r\n                    }).then((res)=>{\r\n                        if (res['code']===1000){\r\n                            this.$message.success(res['message'],this.getSqlName())\r\n                            this.addSql = false\r\n                            this.resetDB();\r\n                        }else this.$message.error(res['message'])\r\n                    })\r\n                }\r\n                })\r\n\r\n            },\r\n\r\n            handleCancel() {\r\n                this.addSql = false\r\n\r\n            },\r\n\r\n            resetDB(){\r\n                this.dbForm.name=''\r\n                this.dbForm.Test = this.dbdefault\r\n                this.dbForm.Release = this.dbdefault\r\n            },\r\n\r\n            async editProject(){\r\n                this.isSelect = true\r\n                this.form.system = this.$route.query['id']['systemName']\r\n                if (this.$route.query['id']['pre'] ==='生产'){\r\n                    this.isTestDisabled = true\r\n                }else {\r\n                    this.isReleaseDisabled = true\r\n                }\r\n                await this.getSystemInfo(this.form.system)\r\n                this.form.modules = this.$route.query['id']['moduleName']\r\n                this.form.modulesUrl = this.$route.query['id']['address']\r\n                this.modulesId = this.$route.query['id']['moduleId']\r\n                this.form.sqls = JSON.parse(this.$route.query['id']['dbAddress'])['sqlName']\r\n                this.getSqlInfo(this.form.sqls)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #bread{\r\n        margin-left: 20px;\r\n        margin-top: 10px;\r\n        font-size: 13px;\r\n        margin-right: 28px;\r\n    }\r\n    #system-header {\r\n        height: 50px;\r\n        background-color: white;\r\n    }\r\n\r\n    .icon {\r\n        cursor: pointer;\r\n        margin-top: 10px;\r\n        font-size: 20px;\r\n        left: 20px;\r\n    }\r\n\r\n    #pagination {\r\n        float: right;\r\n        margin-top: 10px;\r\n        margin-right: 50px;\r\n    }\r\n</style>\r\n<style>\r\n    .form-item .ant-form-explain{\r\n        margin-top: 4px;\r\n        margin-bottom:5px;\r\n    }\r\n    .form-item-tip .ant-form-explain{\r\n        margin-top: 4px;\r\n        margin-bottom:8px;\r\n        margin-left: 88px;\r\n    }\r\n</style>"]}]}