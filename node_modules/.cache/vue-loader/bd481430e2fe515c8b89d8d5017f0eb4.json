{"remainingRequest":"D:\\mymy\\teamplan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mymy\\teamplan\\src\\views\\systemModule\\systemModuleAdd.vue?vue&type=style&index=0&id=305800ac&scoped=true&lang=css&","dependencies":[{"path":"D:\\mymy\\teamplan\\src\\views\\systemModule\\systemModuleAdd.vue","mtime":1597054396909},{"path":"D:\\mymy\\teamplan\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojYnJlYWR7CiAgICBtYXJnaW4tbGVmdDogMjBweDsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICBmb250LXNpemU6IDEzcHg7CiAgICBtYXJnaW4tcmlnaHQ6IDI4cHg7Cn0KI3N5c3RlbS1oZWFkZXIgewogICAgaGVpZ2h0OiA1MHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Cn0KCi5pY29uIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICBmb250LXNpemU6IDIwcHg7CiAgICBsZWZ0OiAyMHB4Owp9CgojcGFnaW5hdGlvbiB7CiAgICBmbG9hdDogcmlnaHQ7CiAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgbWFyZ2luLXJpZ2h0OiA1MHB4Owp9Cg=="},{"version":3,"sources":["systemModuleAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"systemModuleAdd.vue","sourceRoot":"src/views/systemModule","sourcesContent":["<template>\r\n    <div id=\"system-module-add\">\r\n        <a-breadcrumb id=\"bread\">\r\n        <a-breadcrumb-item >\r\n                <my-icon class='icon' type=\"icon-system\" :to=\"{name:'systemModuleList'}\"/>\r\n                <router-link :to=\"{name:'systemModuleList'}\">系统模块列表</router-link>\r\n\r\n        </a-breadcrumb-item>\r\n        <a-breadcrumb-item v-if=\"projectId===0\">\r\n          新增系统模块\r\n        </a-breadcrumb-item>\r\n            <a-breadcrumb-item v-else>\r\n          编辑系统模块\r\n        </a-breadcrumb-item>\r\n        </a-breadcrumb>\r\n        <a-form-model :model=\"form\"\r\n                      :label-col=\"labelCol\"\r\n                      :wrapper-col=\"wrapperCol\"\r\n                      style=\"margin-top: 20px;padding-top: 20px\"\r\n                      :rules = \"formRules\"\r\n                      ref=\"rfForm\"\r\n\r\n                >\r\n            <a-form-model-item label=\"选择系统\" prop=\"system\"  class ='form-item'>\r\n                <a-select v-model=\"form.system\" :disabled=\"isSelect\" placeholder=\"请选择系统\" @select=\"getSystemInfo\" @change=\"changeSystem\" allowClear\r\n                          mode=\"combobox\"\r\n                          >\r\n                    <a-select-option v-for=\"system in system_list\" :key=\"system.systemName\">\r\n                                {{system.systemName}}\r\n                    </a-select-option>\r\n                </a-select>\r\n            </a-form-model-item>\r\n            <a-form-model-item label=\"系统地址：\" prop=\"systemhost\"  class ='form-item'>\r\n                <div style=\"padding-top: 25px\">\r\n                    <label>测试</label>\r\n                    <a-input v-model=\"form.systemHostTest\" placeholder=\"填写如www.baidu.com\" :disabled=\"isTestDisabled\"/>\r\n                    <label>生产</label>\r\n                    <a-input v-model=\"form.systemHostRelease\" placeholder=\"填写如www.baidu.com\" :disabled=\"isReleaseDisabled\"/>\r\n                </div>\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item label=\"选择模块\" prop=\"modules\"  class ='form-item'>\r\n                <a-select v-model=\"form.modules\" :disabled=\"isSelect\" placeholder=\"请选择模块\" @select=\"getModuleInfo\" @change=\"changeModule\" allowClear mode=\"combobox\">\r\n                    <a-select-option v-for=\"newModule in new_module_list\" :key=\"newModule.moduleName\">\r\n                                {{newModule.moduleName}}\r\n                    </a-select-option>\r\n                </a-select>\r\n            </a-form-model-item>\r\n            <a-form-model-item label=\"模块地址：\"  prop=\"modulesurl\" class ='form-item'>\r\n                 <a-input v-model=\"form.modulesUrl\" placeholder=\"填写如/login\"/>\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item label=\"通用数据\">\r\n                <div style=\"padding-top: 25px\">\r\n                    <label>测试</label>\r\n                    <a-input v-model=\"form.comDataTest\" type=\"textarea\" placeholder=\"填写如{key:vaule,key:vaule}\" :disabled=\"isTestDisabled\"/>\r\n                    <label>生产</label>\r\n                    <a-input v-model=\"form.comDataRelease\" type=\"textarea\" placeholder=\"填写如{key:vaule,key:vaule}\" :disabled=\"isReleaseDisabled\"/>\r\n                </div>\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item label=\"选择数据库\" prop=\"sqls\"  class ='form-item'>\r\n                <a-select style=\"width: 150px\" v-model=\"form.sqls\" placeholder=\"请选择数据库\" @change=\"changeSql\" @select=\"getSqlInfo\" allowClear>\r\n                    <a-select-option v-for=\"sql in sql_list\" :key=\"sql.sqlName\">\r\n                                {{sql.sqlName}}\r\n                    </a-select-option>\r\n                </a-select>\r\n                <a-button type=\"primary\" @click=\"addDB\" style=\"margin-left: 30px;margin-right: 30px\">\r\n                +数据库\r\n              </a-button>\r\n                <div v-if=\"sqlSelected\">\r\n                    <a-table  :dataSource=\"data_list\" bordered :columns=\"column\" :pagination=\"false\"\r\n                         style=\"margin-left: 30px;margin-right: 30px\">\r\n                </a-table>\r\n                </div>\r\n\r\n            </a-form-model-item>\r\n\r\n            <a-form-model-item :wrapper-col=\"{ span: 14, offset: 4 }\">\r\n              <a-button type=\"primary\" @click=\"addProject\">\r\n                新增\r\n              </a-button>\r\n              <a-button style=\"margin-left: 10px;\" @click=\"backProjectList\">\r\n                返回\r\n              </a-button>\r\n            </a-form-model-item>\r\n        </a-form-model>\r\n        <div >\r\n                    <a-modal class=\"add-modal\" v-model=\"addSql\" title=\"新增数据库\" on-ok=\"dbhandleOk\">\r\n\r\n                        <template slot=\"footer\">\r\n                            <a-button key=\"back\" @click=\"handleCancel\">\r\n                                返回\r\n                            </a-button>\r\n                            <a-button key=\"submit\" type=\"primary\" :loading=\"loading\" @click=\"dbhandleOk\">\r\n                                提交\r\n                            </a-button>\r\n                        </template>\r\n                        <a-form-model\r\n                                ref=\"ruleForm\"\r\n                                :model=\"dbForm\"\r\n                                :rules=\"dbrules\"\r\n                                :label-col=\"dblabelCol\"\r\n                                :wrapper-col=\"dbwrapperCol\"\r\n                        >\r\n                            <a-form-model-item ref=\"name\" label=\"数据库名称\" prop=\"name\" class ='form-item'>\r\n                                <a-input\r\n                                        v-model=\"dbForm.name\"\r\n                                        placeholder=\"输入数据库名称\"\r\n                                        @blur=\"() => {\r\n                                            $refs.name.onFieldBlur();\r\n                                                 }\"\r\n                                />\r\n                            </a-form-model-item>\r\n                            <a-form-model-item label=\"\" class ='form-item-tip' style=\"top: 20px\" prop=\"checkBoth\">\r\n                                    <label style=\"font-size: 13px; color: rgba(95,95,95,0.66); left: 88px\">配置规则：测试与生产两者至少填一个</label>\r\n                            </a-form-model-item>\r\n\r\n                            <a-form-model-item  label=\"测试环境\"   class ='form-item'>\r\n                                    <a-input v-model=\"dbForm.Test\" :rows=\"6\" type=\"textarea\" placeholder=\"输入测试环境配置\"\r\n                                             />\r\n\r\n                            </a-form-model-item>\r\n                            <a-form-model-item ref=\"name\" label=\"生产环境\"  class ='form-item' >\r\n                                    <a-input v-model=\"dbForm.Release\" :rows=\"6\" type=\"textarea\" placeholder=\"输入生产环境配置\"/>\r\n\r\n                            </a-form-model-item>\r\n\r\n                        </a-form-model>\r\n                    </a-modal>\r\n                </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    let systemId = 1\r\n    let moduleId = 1\r\n\r\n    const column =[\r\n\r\n        {title: \"环境\", dataIndex: \"pre\", key: \"pre\", align: \"center\", width: 100},\r\n        {title: \"地址\", dataIndex: \"sqlHost\", key: \"sql\", align: \"center\", width: 150},\r\n        {title: \"port\", dataIndex: \"sqlPort\", key: \"port\", align: \"center\", width: 150},\r\n        {title: \"用户名\", dataIndex: \"sqlUser\", key: \"user\", align: \"center\", width: 300},\r\n        {title: \"密码\", dataIndex: \"sqlPwd\", key: \"pwd\", align: \"center\", width: 300},\r\n    ]\r\n\r\n    let dbdefault = \"{\\n\" +\r\n        \"\\\"sqlHost\\\":\\\"\\\",\\n\" +\r\n        \"\\\"sqlPort\\\":\\\"\\\",\\n\" +\r\n        \"\\\"sqlUser\\\":\\\"\\\",\\n\" +\r\n        \"\\\"sqlPwd\\\":\\\"\\\"\\n\" +\r\n        \"}\"\r\n\r\n    export default {\r\n        name: \"systemModuleAdd\",\r\n\r\n        data() {\r\n            let  checkDBConfig =(rules, value, callback)=> {\r\n                if (JSON.parse(this.dbForm.Release)['sqlHost'] ==='' && JSON.parse(this.dbForm.Test)['sqlHost'] === '') {\r\n                    callback('测试和生产至少填写一个')\r\n                } else callback()\r\n            };\r\n\r\n            let  checkModuleUrl =(rules, value, callback)=> {\r\n\r\n                if (!this.form.modulesUrl) {\r\n                    callback('请填写项目地址')\r\n                } else callback()\r\n            };\r\n\r\n            let  checkSystemHost =(rules, value, callback)=> {\r\n\r\n                if (!this.form.systemHostTest && !this.form.systemHostRelease) {\r\n                    callback('请测试和生产地址至少填一个')\r\n                } else callback()\r\n            };\r\n\r\n            return {\r\n                column,\r\n                labelCol: { span: 4 },\r\n                wrapperCol: { span: 14 },\r\n                dblabelCol: { span: 8 },\r\n                dbwrapperCol: { span: 14 },\r\n                projectId:0,\r\n                form: {\r\n                    system: undefined,\r\n                    modules: undefined,\r\n                    sqls:undefined,\r\n                    systemHostTest: '',\r\n                    systemHostRelease:'',\r\n                    comDataTest: '',\r\n                    comDataRelease:'',\r\n                    modulesUrl:'',\r\n\r\n\r\n                },\r\n                formRules:{\r\n                    system:[{ required: true, message: '请选择系统', trigger: 'change' }],\r\n                    systemhost:[{ validator:checkSystemHost, trigger: 'change' }],\r\n                    modules:[{ required: true, message: '请选择模块', trigger: 'change' }],\r\n                    modulesurl:[{ validator:checkModuleUrl, trigger: 'change'  }],\r\n                    sqls:[{ required: true, message: '请选择相关数据库', trigger: 'change' }],\r\n\r\n                },\r\n                system_list:[],\r\n                module_list:[],\r\n                programIdT:0,\r\n                programIdR:0,\r\n                modulesId:0,\r\n                new_module_list:[],\r\n                sql_list:[],\r\n                data_list:[],\r\n                system_info:[],\r\n                sqlSelected:false,\r\n\r\n                addSql:false,\r\n                dbdefault,\r\n                dbForm: {\r\n                    name: '',\r\n                    Test:dbdefault,\r\n                    Release:dbdefault,\r\n                },\r\n                dbrules: {\r\n                    name: [\r\n                        { required: true,message: '请输入数据库配置', trigger: 'blur' },\r\n                    ],\r\n                    checkBoth: [{ validator:checkDBConfig },],\r\n                },\r\n\r\n                loading:false,\r\n\r\n                isTestDisabled:false,\r\n                isReleaseDisabled:false,\r\n                isSelect:false\r\n\r\n            };\r\n        },\r\n        created() {\r\n\r\n            this.getSqlName()\r\n            if (this.$route.query['id'] !== undefined){\r\n\r\n                this.projectId = this.$route.query['id']['id']\r\n                this.editProject()\r\n            }else {\r\n                this.getProjectModuleName()\r\n\r\n            }\r\n\r\n\r\n        },\r\n\r\n        methods: {\r\n            // 获取项目、模块名称\r\n            getProjectModuleName() {\r\n\r\n                systemId = 1\r\n                this.system_list = []\r\n                this.module_list = []\r\n                this.Get(\"/project/getProjectTree\", {}).then(res => {\r\n                    res['code'] === 1000 ? res['data'].map((item) => {\r\n                        this.system_list.push({id: systemId, systemName: item['systemName']})\r\n                        moduleId = 1\r\n                        item['modules'].map((module) => {\r\n                            this.module_list.push({\r\n                                id: moduleId, systemId: systemId, moduleName: module['modulesName'],\r\n                                systemName: item['systemName']\r\n                            })\r\n                            moduleId++\r\n                        })\r\n                        systemId++\r\n                    }) : this.$message.error(res['message'])\r\n                })\r\n            },\r\n\r\n            getSqlName() {\r\n                this.Get('/project/checkSqlData', {}).then(res => {\r\n                    res['code'] === 1000 ? res['data'].map((item) => {\r\n                        this.sql_list.push({sqlId: item['sqlId'], sqlName: item['sqlName']})\r\n                    }) : this.$message.error(res['message'])\r\n                    // console.log(this.sql_list)\r\n                })\r\n            },\r\n\r\n            // 通过项目名称获取模块信息\r\n            changeSystem(value) {\r\n                this.new_module_list = []\r\n                moduleId = 1\r\n                this.module_list.map((list) => {\r\n                    value === list['systemName'] ? this.new_module_list.push({\r\n                        id: moduleId, moduleName: list['moduleName']\r\n                    }) : \"\"\r\n                    moduleId++\r\n                })\r\n\r\n                this.form.systemHostTest = ''\r\n                this.form.systemHostRelease = ''\r\n                this.form.modules = undefined\r\n                this.form.comDataTest = ''\r\n                this.form.comDataRelease = ''\r\n\r\n            },\r\n\r\n            // 通过项目名称获取项目信息\r\n            getSystemInfo(value) {\r\n                // console.log(value)\r\n                this.Post('/project/getProgramDetail', {\r\n                    'programName': value\r\n                }).then(res => {\r\n                    if (res['code'] === 1000) {\r\n                        console.log(res)\r\n                        res['data'].map((item) => {\r\n                            this.programId = item['programId']\r\n                            if (item['env'] === 1) {\r\n                                this.form.systemHostTest = item['programHost']\r\n                                this.form.comDataTest = item['comData']\r\n                                this.programIdT = item['programId']\r\n                            }\r\n                            if (item['env'] === 2) {\r\n                                this.form.systemHostRelease = item['programHost']\r\n                                this.form.comDataRelease = item['comData']\r\n                                this.programIdR = item['programId']\r\n                            }\r\n                        })\r\n                    } else this.$message.error(res['message'])\r\n                })\r\n            },\r\n\r\n            // 通过输入模块名称\r\n            changeModule(value) {\r\n                this.form.modules = value\r\n                this.form.modulesUrl = ''\r\n                this.modulesId = 0\r\n\r\n            },\r\n\r\n            getModuleInfo(value) {\r\n\r\n                this.Post('/project/getModulesDetail', {\r\n                    'modulesName': value\r\n                }).then(res => {\r\n                    // console.log(res)\r\n                    if (res['code'] === 1000) {\r\n                        this.form.modulesUrl = res['data']['modulesUrl']\r\n                        this.modulesId = res['data']['mId']\r\n                        // console.log(this.form.modulesUrl)\r\n                    } else this.$message.error(res['message'])\r\n                    }\r\n                )\r\n            },\r\n            changeSql() {\r\n                this.data_list = []\r\n                this.sqls === undefined ? this.sqlSelected = false : ''\r\n            },\r\n            getSqlInfo(value) {\r\n                let pre = \"\"\r\n                this.sqlSelected = true\r\n                this.Get('/project/getSqldataDetails', {\r\n                    sqlName: value\r\n\r\n                }).then(res => {\r\n                    if (res['code'] === 1000) {\r\n                        res['data'].map((item) => {\r\n                            item['env'] === 1 ? pre = \"测试\" : pre = \"生产\"\r\n                            this.data_list.push({\r\n                                sqlHost: item['sqlHost'], sqlPort: item['sqlPort'], sqlUser: item['sqlUser'],\r\n                                sqlPwd: item['sqlPwd'], pre: pre, env: item['env'], sqlId: item['id']\r\n                            })\r\n                        })\r\n                    } else this.$message.error(res['message'])\r\n                })\r\n            },\r\n\r\n            addProject() {\r\n                // console.log(this.form.modulesUrl)\r\n                this.$refs.rfForm.validate(valid => {\r\n                    if (valid) {\r\n                        this.system_info = []\r\n                        for (var i = 1; i < 3; i++) {\r\n                            let syshost = ''\r\n                            let comData = ''\r\n                            let programid = 0\r\n                            if (i === 1) {\r\n                                syshost = this.form.systemHostTest\r\n                                comData = this.form.comDataTest\r\n                                programid = this.programIdT\r\n                            } else {\r\n                                syshost = this.form.systemHostRelease\r\n                                comData = this.form.comDataRelease\r\n                                programid = this.programIdR\r\n                            }\r\n                            if (syshost !== '') {\r\n                                this.system_info.push({\r\n                                    \"programHost\": syshost,\r\n                                    'comData': comData,\r\n                                    'env': i,\r\n                                    'programId': programid,\r\n                                    'programName': this.form.system,\r\n                                    'status': 0\r\n                                })\r\n                            }\r\n                        }\r\n                        // console.log(this.modulesId)\r\n                        this.Post('/project/addProject', {\r\n                            \"programInfo\": this.system_info,\r\n                            \"modulesInfo\": {\r\n                                \"modulesId\": this.modulesId,\r\n                                \"modulesUrl\": this.form.modulesUrl,\r\n                                \"modulesName\": this.form.modules,\r\n                                \"status\": 0\r\n                            },\r\n                            \"sqlInfo\": this.data_list,\r\n                            \"projectId\":this.projectId\r\n                        }).then(res => {\r\n                            res['code'] === 1000 ? this.$message.success(res['message'], 1, this.$router.push({\"name\": \"systemModuleList\"})) : this.$message.error[res['message']]\r\n                        })\r\n                    }\r\n                })\r\n\r\n            },\r\n\r\n            backProjectList(){\r\n                this.$router.push({\"name\":\"systemModuleList\"})\r\n            },\r\n\r\n            addDB() {\r\n                this.addSql = true\r\n            },\r\n\r\n            dbhandleOk() {\r\n\r\n                // let isVaild = this.checkDBConfig()\r\n                const sqlInfo = [];\r\n                this.$refs.ruleForm.validate(vaild=>{\r\n                    if (vaild){\r\n                    const dbRelease = JSON.parse(this.dbForm.Release);\r\n                    const dbTest = JSON.parse(this.dbForm.Test);\r\n                    if (dbRelease['sqlHost'] !==''){\r\n                        dbRelease['sqlName'] = this.dbForm.name\r\n                        dbRelease['env'] =2\r\n                        sqlInfo.push(dbRelease)\r\n                    }\r\n                    if (dbTest['sqlHost'] !==''){\r\n                        dbTest['sqlName'] = this.dbForm.name\r\n                        dbTest['env'] =1\r\n                        sqlInfo.push(dbTest)\r\n                    }\r\n                    // console.log(sqlInfo)\r\n                    this.Post('/project/addDB',{\r\n                        \"sqlList\":sqlInfo\r\n                    }).then((res)=>{\r\n                        if (res['code']===1000){\r\n                            this.$message.success(res['message'],this.getSqlName())\r\n                            this.addSql = false\r\n                            this.resetDB();\r\n                        }else this.$message.error(res['message'])\r\n                    })\r\n                }\r\n                })\r\n\r\n            },\r\n\r\n            handleCancel() {\r\n                this.addSql = false\r\n\r\n            },\r\n\r\n            resetDB(){\r\n                this.dbForm.name=''\r\n                this.dbForm.Test = this.dbdefault\r\n                this.dbForm.Release = this.dbdefault\r\n            },\r\n\r\n            async editProject(){\r\n                this.isSelect = true\r\n                this.form.system = this.$route.query['id']['systemName']\r\n                if (this.$route.query['id']['pre'] ==='生产'){\r\n                    this.isTestDisabled = true\r\n                }else {\r\n                    this.isReleaseDisabled = true\r\n                }\r\n                await this.getSystemInfo(this.form.system)\r\n                this.form.modules = this.$route.query['id']['moduleName']\r\n                this.form.modulesUrl = this.$route.query['id']['address']\r\n                this.modulesId = this.$route.query['id']['moduleId']\r\n                this.form.sqls = JSON.parse(this.$route.query['id']['dbAddress'])['sqlName']\r\n                this.getSqlInfo(this.form.sqls)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #bread{\r\n        margin-left: 20px;\r\n        margin-top: 10px;\r\n        font-size: 13px;\r\n        margin-right: 28px;\r\n    }\r\n    #system-header {\r\n        height: 50px;\r\n        background-color: white;\r\n    }\r\n\r\n    .icon {\r\n        cursor: pointer;\r\n        margin-top: 10px;\r\n        font-size: 20px;\r\n        left: 20px;\r\n    }\r\n\r\n    #pagination {\r\n        float: right;\r\n        margin-top: 10px;\r\n        margin-right: 50px;\r\n    }\r\n</style>\r\n<style>\r\n    .form-item .ant-form-explain{\r\n        margin-top: 4px;\r\n        margin-bottom:5px;\r\n    }\r\n    .form-item-tip .ant-form-explain{\r\n        margin-top: 4px;\r\n        margin-bottom:8px;\r\n        margin-left: 88px;\r\n    }\r\n</style>"]}]}