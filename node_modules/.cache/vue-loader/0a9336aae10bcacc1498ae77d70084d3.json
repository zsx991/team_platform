{"remainingRequest":"D:\\mymy\\teamplan\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mymy\\teamplan\\src\\views\\systemModule\\systemModuleList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mymy\\teamplan\\src\\views\\systemModule\\systemModuleList.vue","mtime":1597051319530},{"path":"D:\\mymy\\teamplan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mymy\\teamplan\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmxldCBzeXN0ZW1JZCA9IDEKbGV0IG1vZHVsZUlkID0gMQoKY29uc3QgY29sdW1uID0gWwogICAge3RpdGxlOiAi5pON5L2cIiwga2V5OiAiYWN0aW9uIiwgYWxpZ246ICJjZW50ZXIiLCB3aWR0aDogMTMwLCBzY29wZWRTbG90czoge2N1c3RvbVJlbmRlcjogImFjdGlvbiJ9LCBmaXhlZDogImxlZnQifSwKICAgIHt0aXRsZTogIumhueebruWQjeensCIsIGRhdGFJbmRleDogInN5c3RlbU5hbWUiLCBrZXk6ICJzeXN0ZW0iLCBhbGlnbjogImNlbnRlciIsIHdpZHRoOiAxNTB9LAogICAge3RpdGxlOiAi5qih5Z2X5ZCN56ewIiwgZGF0YUluZGV4OiAibW9kdWxlTmFtZSIsIGtleTogIm1vZHVsZSIsIGFsaWduOiAiY2VudGVyIiwgd2lkdGg6IDE1MH0sCiAgICB7dGl0bGU6ICLmqKHlnZflnLDlnYAiLCBkYXRhSW5kZXg6ICJhZGRyZXNzIiwga2V5OiAiYWRkcmVzcyIsIGFsaWduOiAiY2VudGVyIiwgd2lkdGg6IDMwMH0sCiAgICB7dGl0bGU6ICLnjq/looMiLCBkYXRhSW5kZXg6ICJwcmUiLCBrZXk6ICJwcmUiLCBhbGlnbjogImNlbnRlciIsIHdpZHRoOiAxMDB9LAogICAge3RpdGxlOiAi546v5aKD5Zyw5Z2AIiwgZGF0YUluZGV4OiAicHJlQWRkcmVzcyIsIGtleTogInByZUFkZHJlc3MiLCBhbGlnbjogImNlbnRlciIsIHdpZHRoOiAzMDB9LAogICAge3RpdGxlOiAi5pWw5o2u5bqT5Zyw5Z2AIiwgZGF0YUluZGV4OiAiZGJBZGRyZXNzIiwga2V5OiAiZGJBZGRyZXNzIiwgYWxpZ246ICJjZW50ZXIiLCB3aWR0aDogMzAwfSwKICAgIHt0aXRsZTogIumAmueUqOaVsOaNriIsIGRhdGFJbmRleDogImRhdGEiLCBrZXk6ICJkYXRhIiwgYWxpZ246ICJjZW50ZXIiLCB3aWR0aDogMzAwfQpdCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAic3lzdGVtTW9kdWxlTGlzdCIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN5c3RlbV9uYW1lOiB1bmRlZmluZWQgLAogICAgICAgICAgICBtb2R1bGVfbmFtZTogdW5kZWZpbmVkICwKICAgICAgICAgICAgc3lzdGVtX2xpc3Q6IFtdLAogICAgICAgICAgICBtb2R1bGVfbGlzdDogW10sCiAgICAgICAgICAgIG5ld19tb2R1bGVfbGlzdDogW10sCiAgICAgICAgICAgIGRhdGFfbGlzdDogW10sIGNvbHVtbiwKICAgICAgICAgICAgdG90YWw6IDAsIGN1clBhZ2U6IDEsIHBhZ2VTaXplOiA1LAogICAgICAgICAgICBvcGVuU2VsZWN0OiBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ2V0UHJvamVjdE1vZHVsZU5hbWUoKQogICAgICAgIHRoaXMuZ2V0U3lzdGVtTW9kdWxlTGlzdCgpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOiOt+WPlumhueebruOAgeaooeWdl+WQjeensAogICAgICAgIGdldFByb2plY3RNb2R1bGVOYW1lKCkgewogICAgICAgICAgICBzeXN0ZW1JZCA9IDEKICAgICAgICAgICAgdGhpcy5zeXN0ZW1fbGlzdCA9IFtdCiAgICAgICAgICAgIHRoaXMubW9kdWxlX2xpc3QgPSBbXQogICAgICAgICAgICB0aGlzLkdldCgiL3Byb2plY3QvZ2V0UHJvamVjdFRyZWUiLCB7fSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgcmVzWydjb2RlJ10gPT09IDEwMDAgPyByZXNbJ2RhdGEnXS5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN5c3RlbV9saXN0LnB1c2goe2lkOiBzeXN0ZW1JZCwgc3lzdGVtTmFtZTogaXRlbVsnc3lzdGVtTmFtZSddfSkKICAgICAgICAgICAgICAgICAgICBtb2R1bGVJZCA9IDEKICAgICAgICAgICAgICAgICAgICBpdGVtWydtb2R1bGVzJ10ubWFwKChtb2R1bGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2R1bGVfbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtb2R1bGVJZCwgc3lzdGVtSWQ6IHN5c3RlbUlkLCBtb2R1bGVOYW1lOiBtb2R1bGVbJ21vZHVsZXNOYW1lJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1OYW1lOiBpdGVtWydzeXN0ZW1OYW1lJ10KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlSWQrKwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgc3lzdGVtSWQrKwogICAgICAgICAgICAgICAgfSkgOiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc1snbWVzc2FnZSddKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g6YCa6L+H6aG555uu5ZCN56ew6I635Y+W5qih5Z2X5L+h5oGvCiAgICAgICAgY2hhbmdlKHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMubmV3X21vZHVsZV9saXN0ID0gW10KICAgICAgICAgICAgbW9kdWxlSWQgPSAxCiAgICAgICAgICAgIHRoaXMubW9kdWxlX2xpc3QubWFwKChsaXN0KSA9PiB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gbGlzdFsnc3lzdGVtTmFtZSddID8gdGhpcy5uZXdfbW9kdWxlX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IG1vZHVsZUlkLCBtb2R1bGVOYW1lOiBsaXN0Wydtb2R1bGVOYW1lJ10KICAgICAgICAgICAgICAgIH0pIDogIiIKICAgICAgICAgICAgICAgIG1vZHVsZUlkKysKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5tb2R1bGVfbmFtZSA9IHVuZGVmaW5lZAogICAgICAgIH0sCiAgICAgICAgLy8g57yW6L6RCiAgICAgICAgZWRpdCh2YWx1ZSkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7J25hbWUnOiJzeXN0ZW1Nb2R1bGVBZGQiLCBxdWVyeToge2lkOiB2YWx1ZX19KQogICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSkKICAgICAgICB9LAogICAgICAgIC8vIOafpeeciwogICAgICAgIHZpZXcodmFsdWUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpCiAgICAgICAgfSwKICAgICAgICAvLyDliKDpmaQKICAgICAgICBkZWwodmFsdWUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpCiAgICAgICAgfSwKICAgICAgICAvLyDmn6Xor6IKICAgICAgICBzZWFyY2goKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc3lzdGVtX25hbWUsIHRoaXMubW9kdWxlX25hbWUpCiAgICAgICAgICAgIHRoaXMuZ2V0U3lzdGVtTW9kdWxlTGlzdCh0aGlzLnN5c3RlbV9uYW1lLCB0aGlzLm1vZHVsZV9uYW1lKQogICAgICAgIH0sCiAgICAgICAgLy8g6YeN572uCiAgICAgICAgcmVzZXQoKSB7CiAgICAgICAgICAgIHRoaXMuc3lzdGVtX25hbWUgPSB1bmRlZmluZWQKICAgICAgICAgICAgdGhpcy5tb2R1bGVfbmFtZSA9IHVuZGVmaW5lZAogICAgICAgIH0sCiAgICAgICAgLy8g5paw5aKeCiAgICAgICAgYWRkKCkgewoKICAgICAgICB9LAogICAgICAgIC8vIOWIhumhtQogICAgICAgIG9uQ2hhbmdlKHBhZ2UpIHsKICAgICAgICAgICAgdGhpcy5jdXJQYWdlID0gcGFnZQogICAgICAgICAgICB0aGlzLmdldFN5c3RlbU1vZHVsZUxpc3QodGhpcy5zeXN0ZW1fbmFtZSx0aGlzLm1vZHVsZV9uYW1lKQogICAgICAgIH0sCiAgICAgICAgLy8g5qOA5p+l5piv5ZCm6YCJ5oup6aG555uuCiAgICAgICAgY2hlY2soKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnN5c3RlbV9uYW1lID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+mAieaLqemhueebruWQjeensCIsIDIpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOiOt+WPluezu+e7n+aooeWdl+WIl+ihqAogICAgICAgIGdldFN5c3RlbU1vZHVsZUxpc3QocHJvZ3JhbU5hbWUgPSB1bmRlZmluZWQgLCBtb2R1bGVzTmFtZSA9IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7fQogICAgICAgICAgICBwcm9ncmFtTmFtZSAmJiBtb2R1bGVzTmFtZSAhPT0gbnVsbCA/IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBwcm9ncmFtTmFtZTogdGhpcy5zeXN0ZW1fbmFtZSwgbW9kdWxlc05hbWU6IHRoaXMubW9kdWxlX25hbWUscGFnZVNpemU6IHRoaXMucGFnZVNpemUscGFnZU51bSA6IHRoaXMuY3VyUGFnZQogICAgICAgICAgICB9IDogZGF0YSA9IHsKICAgICAgICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLHBhZ2VOdW0gOiB0aGlzLmN1clBhZ2UKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRhdGFfbGlzdCA9IFtdCiAgICAgICAgICAgIGxldCBwcmUgPSAiIgogICAgICAgICAgICB0aGlzLkdldCgiL3Byb2plY3QvZ2V0UHJvamVjdExpc3QiLCBkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzWydjb2RlJ10gPT09IDEwMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzWydkYXRhJ11bJ3RvdGFsJ10KICAgICAgICAgICAgICAgICAgICByZXNbJ2RhdGEnXVsncHJvamVjdCddLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpdGVtWydlbnYnXSA9PT0gMSA/IHByZSA9ICLmtYvor5UiIDogcHJlID0gIueUn+S6pyIKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1OYW1lOiBpdGVtWydwcm9ncmFtTmFtZSddLCBtb2R1bGVOYW1lOiBpdGVtWydtb2R1bGVzTmFtZSddLCBkYXRhOiBpdGVtWydjb21EYXRhJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBpdGVtWydtb2R1bGVzVXJsJ10sIHByZUFkZHJlc3M6IGl0ZW1bJ3Byb2dyYW1Ib3N0J10sIHByZTogcHJlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJBZGRyZXNzOiBpdGVtWydzcWwnXSwgaWQ6IGl0ZW1bJ2lkJ10sbW9kdWxlSWQ6aXRlbVsnbW9kdWxlc0lkJ10KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzWydtZXNzYWdlJ10pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgYWRkU3lzdGVtKCl7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiJzeXN0ZW1Nb2R1bGVBZGQifSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["systemModuleList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"systemModuleList.vue","sourceRoot":"src/views/systemModule","sourcesContent":["/**\r\n* @author: hao.ling\r\n* @date: 2020/8/5 14:47\r\n* @Description: 系统模块列表\r\n*/\r\n<template>\r\n    <div id=\"system-module-list\">\r\n        <a-layout>\r\n            <a-layout-header id=\"system-header\">\r\n                <a-form layout=\"inline\">\r\n                    <a-form-item label=\"系统名称\">\r\n                        <a-select style=\"width: 120px\" v-model=\"system_name\" @change=\"change\" allowClear\r\n                                  placeholder=\"请选择\">\r\n                            <a-select-option v-for=\"system in system_list\" :key=\"system.systemName\">\r\n                                {{system.systemName}}\r\n                            </a-select-option>\r\n                        </a-select>\r\n                    </a-form-item>\r\n                    <a-form-item label=\"模块名称\">\r\n                        <a-select style=\"width: 120px\" v-model=\"module_name\" allowClear placeholder=\"请选择\"\r\n                                  @focus=\"check\">\r\n                            <a-select-option v-for=\"newModule in new_module_list\" :key=\"newModule.moduleName\">\r\n                                {{newModule.moduleName}}\r\n                            </a-select-option>\r\n                        </a-select>\r\n                    </a-form-item>\r\n                    <a-tooltip>\r\n                        <template slot=\"title\">查询</template>\r\n                        <my-icon type=\"icon-search\" class=\"icon\" style=\"color: blue;\" @click=\"search\"/>\r\n                    </a-tooltip>\r\n                    <a-tooltip>\r\n                        <template slot=\"title\">重置</template>\r\n                        <my-icon type=\"icon-zhongzhi\" class=\"icon\" style=\"color: red;\" @click=\"reset\"/>\r\n                    </a-tooltip>\r\n                    <a-tooltip>\r\n                        <template slot=\"title\">新增</template>\r\n                        <my-icon type=\"icon-add1\" class=\"icon\" style=\"color: green;\" @click=\"addSystem\"/>\r\n                    </a-tooltip>\r\n                </a-form>\r\n            </a-layout-header>\r\n            <a-layout-content style=\"background-color: white;\">\r\n                <a-table :dataSource=\"data_list\" bordered :columns=\"column\" :pagination=\"false\" :scroll=\"{x:500,y:500}\"\r\n                         style=\"margin-left: 30px;margin-right: 30px\">\r\n                    <span slot=\"action\" slot-scope=\"text,record\">\r\n                        <a-tooltip>\r\n                            <template slot=\"title\">编辑</template>\r\n                            <my-icon type=\"icon-edit\" class=\"icon\" @click=\"edit(text)\" style=\"color: lawngreen\"/>\r\n                        </a-tooltip>\r\n                        <a-tooltip>\r\n                            <template slot=\"title\">查看</template>\r\n                            <my-icon type=\"icon-chakan\" class=\"icon\" @click=\"view(text)\"\r\n                                     style=\"color: blueviolet\"/>\r\n                        </a-tooltip>\r\n                        <a-tooltip>\r\n                            <template slot=\"title\">删除</template>\r\n                            <a-popconfirm title=\"是否确认删除\" ok-text=\"确认\" cancel-text=\"取消\" @confirm=\"del(record.id)\">\r\n                            <my-icon type=\"icon-delete\" class=\"icon\" @click=\"del(record.id)\" style=\"color: red\"/>\r\n                        </a-popconfirm>\r\n                        </a-tooltip>\r\n                    </span>\r\n                </a-table>\r\n                <a-pagination id=\"pagination\" :default-current=\"curPage\" :total=\"total\" :page-size=\"pageSize\" :show-total=\"total => `共${total}条`\"\r\n                              @change=\"onChange\"/>\r\n            </a-layout-content>\r\n        </a-layout>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    let systemId = 1\r\n    let moduleId = 1\r\n\r\n    const column = [\r\n        {title: \"操作\", key: \"action\", align: \"center\", width: 130, scopedSlots: {customRender: \"action\"}, fixed: \"left\"},\r\n        {title: \"项目名称\", dataIndex: \"systemName\", key: \"system\", align: \"center\", width: 150},\r\n        {title: \"模块名称\", dataIndex: \"moduleName\", key: \"module\", align: \"center\", width: 150},\r\n        {title: \"模块地址\", dataIndex: \"address\", key: \"address\", align: \"center\", width: 300},\r\n        {title: \"环境\", dataIndex: \"pre\", key: \"pre\", align: \"center\", width: 100},\r\n        {title: \"环境地址\", dataIndex: \"preAddress\", key: \"preAddress\", align: \"center\", width: 300},\r\n        {title: \"数据库地址\", dataIndex: \"dbAddress\", key: \"dbAddress\", align: \"center\", width: 300},\r\n        {title: \"通用数据\", dataIndex: \"data\", key: \"data\", align: \"center\", width: 300}\r\n    ]\r\n\r\n    export default {\r\n        name: \"systemModuleList\",\r\n        data() {\r\n            return {\r\n                system_name: undefined ,\r\n                module_name: undefined ,\r\n                system_list: [],\r\n                module_list: [],\r\n                new_module_list: [],\r\n                data_list: [], column,\r\n                total: 0, curPage: 1, pageSize: 5,\r\n                openSelect: false\r\n            }\r\n        },\r\n        created() {\r\n            this.getProjectModuleName()\r\n            this.getSystemModuleList()\r\n        },\r\n        methods: {\r\n            // 获取项目、模块名称\r\n            getProjectModuleName() {\r\n                systemId = 1\r\n                this.system_list = []\r\n                this.module_list = []\r\n                this.Get(\"/project/getProjectTree\", {}).then(res => {\r\n                    console.log(res)\r\n                    res['code'] === 1000 ? res['data'].map((item) => {\r\n                        this.system_list.push({id: systemId, systemName: item['systemName']})\r\n                        moduleId = 1\r\n                        item['modules'].map((module) => {\r\n                            this.module_list.push({\r\n                                id: moduleId, systemId: systemId, moduleName: module['modulesName'],\r\n                                systemName: item['systemName']\r\n                            })\r\n                            moduleId++\r\n                        })\r\n                        systemId++\r\n                    }) : this.$message.error(res['message'])\r\n                })\r\n            },\r\n            // 通过项目名称获取模块信息\r\n            change(value) {\r\n                this.new_module_list = []\r\n                moduleId = 1\r\n                this.module_list.map((list) => {\r\n                    value === list['systemName'] ? this.new_module_list.push({\r\n                        id: moduleId, moduleName: list['moduleName']\r\n                    }) : \"\"\r\n                    moduleId++\r\n                })\r\n                this.module_name = undefined\r\n            },\r\n            // 编辑\r\n            edit(value) {\r\n                this.$router.push({'name':\"systemModuleAdd\", query: {id: value}})\r\n                console.log(value)\r\n            },\r\n            // 查看\r\n            view(value) {\r\n                console.log(value)\r\n            },\r\n            // 删除\r\n            del(value) {\r\n                console.log(value)\r\n            },\r\n            // 查询\r\n            search() {\r\n                // console.log(this.system_name, this.module_name)\r\n                this.getSystemModuleList(this.system_name, this.module_name)\r\n            },\r\n            // 重置\r\n            reset() {\r\n                this.system_name = undefined\r\n                this.module_name = undefined\r\n            },\r\n            // 新增\r\n            add() {\r\n\r\n            },\r\n            // 分页\r\n            onChange(page) {\r\n                this.curPage = page\r\n                this.getSystemModuleList(this.system_name,this.module_name)\r\n            },\r\n            // 检查是否选择项目\r\n            check() {\r\n                if (this.system_name === undefined) {\r\n                    this.$message.error(\"请选择项目名称\", 2)\r\n                }\r\n            },\r\n            // 获取系统模块列表\r\n            getSystemModuleList(programName = undefined , modulesName = undefined ) {\r\n                let data = {}\r\n                programName && modulesName !== null ? data = {\r\n                    programName: this.system_name, modulesName: this.module_name,pageSize: this.pageSize,pageNum : this.curPage\r\n                } : data = {\r\n                    pageSize: this.pageSize,pageNum : this.curPage\r\n                }\r\n                this.data_list = []\r\n                let pre = \"\"\r\n                this.Get(\"/project/getProjectList\", data).then(res => {\r\n                    if (res['code'] === 1000) {\r\n                        this.total = res['data']['total']\r\n                        res['data']['project'].map((item) => {\r\n                            item['env'] === 1 ? pre = \"测试\" : pre = \"生产\"\r\n                            this.data_list.push({\r\n                                systemName: item['programName'], moduleName: item['modulesName'], data: item['comData'],\r\n                                address: item['modulesUrl'], preAddress: item['programHost'], pre: pre,\r\n                                dbAddress: item['sql'], id: item['id'],moduleId:item['modulesId']\r\n                            })\r\n                        })\r\n                    } else this.$message.error(res['message'])\r\n                })\r\n            },\r\n\r\n            addSystem(){\r\n                this.$router.push({name:\"systemModuleAdd\"})\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #system-header {\r\n        height: 50px;\r\n        background-color: white;\r\n    }\r\n\r\n    .icon {\r\n        cursor: pointer;\r\n        margin-top: 10px;\r\n        font-size: 20px;\r\n        margin-right: 10px;\r\n    }\r\n\r\n    #pagination {\r\n        float: right;\r\n        margin-top: 10px;\r\n        margin-right: 50px;\r\n    }\r\n</style>\r\n<style>\r\n\r\n</style>"]}]}